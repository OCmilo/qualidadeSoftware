<?xml version="1.0" encoding="UTF-8"?>
<bpmn:definitions xmlns:bpmn="http://www.omg.org/spec/BPMN/20100524/MODEL" xmlns:bpmndi="http://www.omg.org/spec/BPMN/20100524/DI" xmlns:dc="http://www.omg.org/spec/DD/20100524/DC" xmlns:di="http://www.omg.org/spec/DD/20100524/DI" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:camunda="http://camunda.org/schema/1.0/bpmn" xmlns:modeler="http://camunda.org/schema/modeler/1.0" id="Definitions_1qgnk62" targetNamespace="http://bpmn.io/schema/bpmn" exporter="Camunda Modeler" exporterVersion="4.12.0" modeler:executionPlatform="Camunda Platform" modeler:executionPlatformVersion="7.15.0">
  <bpmn:process id="PurchaseProcess" name="Purchase Process" isExecutable="true">
    <bpmn:startEvent id="StartEvent_1">
      <bpmn:outgoing>Flow_0fhx5lj</bpmn:outgoing>
    </bpmn:startEvent>
    <bpmn:endEvent id="Event_1gs8nic">
      <bpmn:incoming>Flow_16ndcw6</bpmn:incoming>
    </bpmn:endEvent>
    <bpmn:sequenceFlow id="Flow_0fhx5lj" sourceRef="StartEvent_1" targetRef="ChooseProduct" />
    <bpmn:userTask id="ChooseProduct" name="Selecionar Produto">
      <bpmn:incoming>Flow_0fhx5lj</bpmn:incoming>
      <bpmn:outgoing>Flow_080dz12</bpmn:outgoing>
    </bpmn:userTask>
    <bpmn:userTask id="ProceedCheckout" name="Efetuar Compra">
      <bpmn:incoming>Flow_10900zi</bpmn:incoming>
      <bpmn:outgoing>Flow_1adi0bo</bpmn:outgoing>
    </bpmn:userTask>
    <bpmn:userTask id="ChooseFreight" name="Escolher Frete">
      <bpmn:incoming>Flow_0issqpp</bpmn:incoming>
      <bpmn:outgoing>Flow_00npfsd</bpmn:outgoing>
    </bpmn:userTask>
    <bpmn:userTask id="AddCoupon" name="Adicionar Cupom">
      <bpmn:incoming>with_coupon</bpmn:incoming>
      <bpmn:outgoing>Flow_1qef97j</bpmn:outgoing>
    </bpmn:userTask>
    <bpmn:userTask id="AddWarranty" name="Adicionar Garantia">
      <bpmn:incoming>with_warranty</bpmn:incoming>
      <bpmn:outgoing>Flow_090nc2j</bpmn:outgoing>
    </bpmn:userTask>
    <bpmn:sequenceFlow id="Flow_080dz12" sourceRef="ChooseProduct" targetRef="Gateway_0q8d1rr" />
    <bpmn:sequenceFlow id="Flow_1adi0bo" sourceRef="ProceedCheckout" targetRef="showResume" />
    <bpmn:exclusiveGateway id="Gateway_0q8d1rr">
      <bpmn:incoming>Flow_080dz12</bpmn:incoming>
      <bpmn:outgoing>with_warranty</bpmn:outgoing>
      <bpmn:outgoing>without_warranty</bpmn:outgoing>
    </bpmn:exclusiveGateway>
    <bpmn:sequenceFlow id="with_warranty" name="With Warranty" sourceRef="Gateway_0q8d1rr" targetRef="AddWarranty">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${processInstance.purchase.withWarranty}</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:exclusiveGateway id="Gateway_15lkwqy">
      <bpmn:incoming>Flow_090nc2j</bpmn:incoming>
      <bpmn:incoming>without_warranty</bpmn:incoming>
      <bpmn:outgoing>Flow_0issqpp</bpmn:outgoing>
    </bpmn:exclusiveGateway>
    <bpmn:sequenceFlow id="Flow_090nc2j" sourceRef="AddWarranty" targetRef="Gateway_15lkwqy" />
    <bpmn:sequenceFlow id="without_warranty" name="Without Warranty&#10;&#10;" sourceRef="Gateway_0q8d1rr" targetRef="Gateway_15lkwqy">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${!processInstance.purchase.withWarranty}</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:sequenceFlow id="Flow_0issqpp" sourceRef="Gateway_15lkwqy" targetRef="ChooseFreight" />
    <bpmn:exclusiveGateway id="Gateway_0d3vj3k">
      <bpmn:incoming>Flow_00npfsd</bpmn:incoming>
      <bpmn:outgoing>without_coupon</bpmn:outgoing>
      <bpmn:outgoing>with_coupon</bpmn:outgoing>
    </bpmn:exclusiveGateway>
    <bpmn:exclusiveGateway id="Gateway_1oa50gy">
      <bpmn:incoming>without_coupon</bpmn:incoming>
      <bpmn:incoming>Flow_1qef97j</bpmn:incoming>
      <bpmn:outgoing>Flow_10900zi</bpmn:outgoing>
    </bpmn:exclusiveGateway>
    <bpmn:sequenceFlow id="Flow_00npfsd" sourceRef="ChooseFreight" targetRef="Gateway_0d3vj3k" />
    <bpmn:sequenceFlow id="without_coupon" name="Without Coupon" sourceRef="Gateway_0d3vj3k" targetRef="Gateway_1oa50gy">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${!processInstance.purchase.withCoupon}</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:sequenceFlow id="with_coupon" name="With Coupon" sourceRef="Gateway_0d3vj3k" targetRef="AddCoupon">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${processInstance.purchase.withCoupon}</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:sequenceFlow id="Flow_1qef97j" sourceRef="AddCoupon" targetRef="Gateway_1oa50gy" />
    <bpmn:sequenceFlow id="Flow_10900zi" sourceRef="Gateway_1oa50gy" targetRef="ProceedCheckout" />
    <bpmn:sequenceFlow id="Flow_16ndcw6" sourceRef="showResume" targetRef="Event_1gs8nic" />
    <bpmn:serviceTask id="showResume" name="Informar resumo" camunda:delegateExpression="${integrateThirdPartyDelegate}">
      <bpmn:incoming>Flow_1adi0bo</bpmn:incoming>
      <bpmn:outgoing>Flow_16ndcw6</bpmn:outgoing>
    </bpmn:serviceTask>
  </bpmn:process>
  <bpmndi:BPMNDiagram id="BPMNDiagram_1">
    <bpmndi:BPMNPlane id="BPMNPlane_1" bpmnElement="PurchaseProcess">
      <bpmndi:BPMNEdge id="Flow_16ndcw6_di" bpmnElement="Flow_16ndcw6">
        <di:waypoint x="1390" y="370" />
        <di:waypoint x="1308" y="370" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_10900zi_di" bpmnElement="Flow_10900zi">
        <di:waypoint x="1325" y="237" />
        <di:waypoint x="1390" y="237" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1qef97j_di" bpmnElement="Flow_1qef97j">
        <di:waypoint x="1200" y="237" />
        <di:waypoint x="1275" y="237" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0rz5bjo_di" bpmnElement="with_coupon">
        <di:waypoint x="1025" y="237" />
        <di:waypoint x="1100" y="237" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1031" y="219" width="63" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1g661fy_di" bpmnElement="without_coupon">
        <di:waypoint x="1000" y="212" />
        <di:waypoint x="1000" y="100" />
        <di:waypoint x="1300" y="100" />
        <di:waypoint x="1300" y="212" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1111" y="82" width="78" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_00npfsd_di" bpmnElement="Flow_00npfsd">
        <di:waypoint x="920" y="237" />
        <di:waypoint x="975" y="237" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0issqpp_di" bpmnElement="Flow_0issqpp">
        <di:waypoint x="745" y="237" />
        <di:waypoint x="820" y="237" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0cioal8_di" bpmnElement="without_warranty">
        <di:waypoint x="440" y="212" />
        <di:waypoint x="440" y="100" />
        <di:waypoint x="720" y="100" />
        <di:waypoint x="720" y="212" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="538" y="82" width="85" height="40" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_090nc2j_di" bpmnElement="Flow_090nc2j">
        <di:waypoint x="650" y="237" />
        <di:waypoint x="695" y="237" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1ergqye_di" bpmnElement="with_warranty">
        <di:waypoint x="465" y="237" />
        <di:waypoint x="550" y="237" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="474" y="219" width="69" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1adi0bo_di" bpmnElement="Flow_1adi0bo">
        <di:waypoint x="1440" y="277" />
        <di:waypoint x="1440" y="330" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_080dz12_di" bpmnElement="Flow_080dz12">
        <di:waypoint x="360" y="237" />
        <di:waypoint x="415" y="237" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0fhx5lj_di" bpmnElement="Flow_0fhx5lj">
        <di:waypoint x="188" y="237" />
        <di:waypoint x="260" y="237" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="_BPMNShape_StartEvent_2" bpmnElement="StartEvent_1">
        <dc:Bounds x="152" y="219" width="36" height="36" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_1gs8nic_di" bpmnElement="Event_1gs8nic">
        <dc:Bounds x="1272" y="352" width="36" height="36" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_0mmj7f8_di" bpmnElement="ChooseProduct">
        <dc:Bounds x="260" y="197" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_0yxdtce_di" bpmnElement="ProceedCheckout">
        <dc:Bounds x="1390" y="197" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_1i9psln_di" bpmnElement="ChooseFreight">
        <dc:Bounds x="820" y="197" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_0e46nco_di" bpmnElement="AddCoupon">
        <dc:Bounds x="1100" y="197" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_0gdu1m2_di" bpmnElement="AddWarranty">
        <dc:Bounds x="550" y="197" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Gateway_0q8d1rr_di" bpmnElement="Gateway_0q8d1rr" isMarkerVisible="true">
        <dc:Bounds x="415" y="212" width="50" height="50" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Gateway_15lkwqy_di" bpmnElement="Gateway_15lkwqy" isMarkerVisible="true">
        <dc:Bounds x="695" y="212" width="50" height="50" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Gateway_0d3vj3k_di" bpmnElement="Gateway_0d3vj3k" isMarkerVisible="true">
        <dc:Bounds x="975" y="212" width="50" height="50" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Gateway_1oa50gy_di" bpmnElement="Gateway_1oa50gy" isMarkerVisible="true">
        <dc:Bounds x="1275" y="212" width="50" height="50" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_1jh6e1p_di" bpmnElement="showResume">
        <dc:Bounds x="1390" y="330" width="100" height="80" />
      </bpmndi:BPMNShape>
    </bpmndi:BPMNPlane>
  </bpmndi:BPMNDiagram>
</bpmn:definitions>
